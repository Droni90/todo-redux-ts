(this["webpackJsonptodo-ts-redux"]=this["webpackJsonptodo-ts-redux"]||[]).push([[0],{124:function(e,t,n){"use strict";n.r(t);var r,c=n(0),o=n.n(c),a=n(24),s=n.n(a),u=(n(96),n(39)),i=n(141),l=n(147),d=n(151),p=n(152),O=n(148),j=n(142),b=n(143),f=n(144),x=n(145),h=n(146),m=n(60),g=n.n(m),v=n(20),D=v.c,_=n(34);!function(e){e.SET_GROUPS="SET_GROUPS",e.REMOVE_GROUP="REMOVE_GROUP",e.ADD_GROUP="ADD_GROUP",e.ADD_TODO="ADD_TODO",e.REMOVE_TODO="REMOVE_TODO",e.CHECK_TODO="CHECK_TODO",e.LOAD_GROUPS="LOAD_GROUPS"}(r||(r={}));var E=n(4),w=Object(i.a)((function(e){return{root:{width:"100%",maxWidth:"760px",backgroundColor:"inherit"},listItem:{display:"flex",justifyContent:"space-between"},link:{textDecoration:"none",color:"#000"},text:{fontSize:"45px"}}})),k=function(e){var t=e.handleGroupClick,n=w(),c=D((function(e){return e.groupsList.groups})),o=Object(v.b)(),a=function(e,t){e.preventDefault(),o(function(e){return{type:r.REMOVE_GROUP,payload:e}}(t))},s=function(e){var t;return c.forEach((function(n){n.id===e&&(t=n.todos.length)})),t},u=function(e){var t=0;return c.forEach((function(n){n.id===e&&n.todos.forEach((function(e){e.completed&&t++}))})),t};return Object(E.jsx)(j.a,{className:n.root,children:c.map((function(e){var r=e.groupName,c=e.id;return Object(E.jsx)(_.b,{className:n.link,to:"/group/".concat(c),children:Object(E.jsxs)(b.a,{role:void 0,className:n.listItem,onClick:function(){return t(c)},dense:!0,button:!0,children:[Object(E.jsx)(f.a,{className:n.text,primary:"".concat(r," (").concat(u(c)," / ").concat(s(c),")")}),Object(E.jsx)(x.a,{children:Object(E.jsx)(h.a,{onClick:function(e){return a(e,c)},children:Object(E.jsx)(g.a,{})})})]},c)})}))})},y=Object(i.a)({roof:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",height:"100%"},button:{backgroundColor:"#96e395",height:"40px",maxWidth:"100%"},form:{display:"flex",flexDirection:"column",width:"200px"},input:{marginBottom:"15px",backgroundColor:"#fff",height:"40px",width:"100%"},box:{maxWidth:"360px",width:"100%",textAlign:"center"},subtitle:{marginTop:"50%"}}),R=function(e){var t=e.handleGroupClick,n=y(),o=Object(v.b)(),a=Object(c.useState)(""),s=Object(u.a)(a,2),i=s[0],j=s[1],b=D((function(e){return e.groupsList.groups}));return Object(E.jsxs)(l.a,{className:n.roof,children:[Object(E.jsxs)(d.a,{className:n.box,children:[Object(E.jsx)("h1",{children:"ToDo groups"}),b.length?Object(E.jsx)(k,{handleGroupClick:t}):Object(E.jsx)("h2",{className:n.subtitle,children:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0434\u0435\u043b"})]}),Object(E.jsxs)("form",{className:n.form,onSubmit:function(e){e.preventDefault();var t,n={groupName:i,id:Date.now(),todos:[]};o((t=n,{type:r.ADD_GROUP,payload:t})),j("")},children:[Object(E.jsx)(p.a,{id:"component-outlined",value:i,onChange:function(e){j(e.target.value)},className:n.input,required:!0}),Object(E.jsx)(O.a,{className:n.button,variant:"outlined",size:"small",type:"submit",children:"Create"})]})]})},C=(n(104),n(149)),N=n(154),S=n(150),T=n(153),I=n(13),U=n(84),G=n.n(U),A=Object(i.a)({completed:{textDecoration:"line-through"}}),P=function(e){var t=e.todoName,n=e.id,c=e.completed,o=e.groupId,a=A(),s=Object(v.b)(),u=function(e){s(function(e,t){return{type:r.REMOVE_TODO,groupId:t,todoId:e}}(e,o))},i=function(e){s(function(e,t){return{type:r.CHECK_TODO,groupId:t,todoId:e}}(e,o))};return Object(E.jsxs)(b.a,{role:void 0,dense:!0,button:!0,children:[Object(E.jsx)(f.a,{primary:t,className:c?a.completed:""}),Object(E.jsxs)(x.a,{children:[Object(E.jsx)(h.a,{onClick:function(){return i(n)},children:Object(E.jsx)(G.a,{})}),Object(E.jsx)(h.a,{onClick:function(){return u(n)},children:Object(E.jsx)(g.a,{})})]})]},n)},V=function(e){var t=e.id,n=e.inputSearch,r=e.radioValue,o=D((function(e){return e.groupsList})).groups,a=+t,s=Object(c.useMemo)((function(){return o.find((function(e){return e.id===a})).todos}),[o]);return Object(E.jsx)(j.a,{children:s.length?s.map((function(e){var t=e.todoName,c=e.id,o=e.completed;return n||"All"!==r?n&&t.startsWith(n)?Object(E.jsx)(P,{todoName:t,id:c,completed:o,groupId:a},c):"Undone"!==r||o?void 0:Object(E.jsx)(P,{todoName:t,id:c,completed:o,groupId:a},c):Object(E.jsx)(P,{todoName:t,id:c,groupId:a,completed:o},c)})):Object(E.jsx)("h2",{children:"\u0414\u0435\u043b \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"})})},M=Object(i.a)({roof:{display:"flex",flexDirection:"column",width:"70%"},input:{marginBottom:"15px",backgroundColor:"#fff",height:"40px",width:"80%"},link:{textDecoration:"none",color:"#000",fontSize:"24px",paddingBottom:"40px"}}),L=function(){var e=M(),t=Object(I.f)("/group/:id").params.id,n=Object(c.useState)(""),a=Object(u.a)(n,2),s=a[0],i=a[1],d=Object(c.useState)(""),O=Object(u.a)(d,2),j=O[0],b=O[1],f=o.a.useState("All"),x=Object(u.a)(f,2),h=x[0],m=x[1],g=Object(v.b)();return Object(E.jsxs)(l.a,{className:e.roof,children:[Object(E.jsx)(_.b,{className:e.link,to:"/",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"}),Object(E.jsx)(p.a,{value:s,onChange:function(e){i(e.target.value)},className:e.input,placeholder:"Search..."}),Object(E.jsx)(C.a,{component:"fieldset",children:Object(E.jsxs)(N.a,{"aria-label":"filter",name:"filter",value:h,onChange:function(e){m(e.target.value)},children:[Object(E.jsx)(S.a,{value:"All",control:Object(E.jsx)(T.a,{}),label:"All"}),Object(E.jsx)(S.a,{value:"Undone",control:Object(E.jsx)(T.a,{}),label:"Undone"})]})}),Object(E.jsx)(V,{id:t,inputSearch:s,radioValue:h}),Object(E.jsx)(p.a,{value:j,onChange:function(e){b(e.target.value)},className:e.input,placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",onKeyDown:function(e){if("Enter"===e.key&&j){var n={todoName:j,id:Date.now()};g(function(e,t){return{type:r.ADD_TODO,payload:e,id:t}}(n,t)),b("")}},required:!0})]})},K=Object(i.a)({root:{backgroundColor:"#cfe8fc",height:"100vh",padding:"50px 0",alignItems:"center"}}),B=function(){var e=Object(v.b)(),t=K();return Object(c.useEffect)((function(){e({type:r.LOAD_GROUPS})}),[]),Object(E.jsx)(l.a,{className:t.root,children:Object(E.jsxs)(I.c,{children:[Object(E.jsx)(I.a,{exact:!0,path:"/",children:Object(E.jsx)(R,{handleGroupClick:function(){}})}),Object(E.jsx)(I.a,{path:"/group/:id",children:Object(E.jsx)(L,{})})]})})},H=n(33),W=n(48),X=n(49),z={groups:[]},q=Object(H.b)({groupsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_GROUPS:return Object(X.a)(Object(X.a)({},e),{},{groups:t.payload});case r.ADD_GROUP:return Object(X.a)(Object(X.a)({},e),{},{groups:[].concat(Object(W.a)(e.groups),[t.payload])});case r.REMOVE_GROUP:return{groups:e.groups.filter((function(e){return e.id!==t.payload}))};case r.ADD_TODO:return{groups:Object(W.a)(e.groups).map((function(e){return e.id===+t.id&&e.todos.push(t.payload),e}))};case r.REMOVE_TODO:return{groups:Object(W.a)(e.groups).map((function(e){return e.id===t.groupId&&(e.todos=e.todos.filter((function(e){return e.id!==t.todoId}))),e}))};case r.CHECK_TODO:return{groups:Object(W.a)(e.groups).map((function(e){return e.id===t.groupId&&e.todos.forEach((function(e){e.id===t.todoId&&(e.completed=!e.completed)})),e}))};default:return e}}}),J=n(85),F=n(11),Q=n.n(F),Y=n(17),Z=n(40),$=n.n(Z),ee=function(){return $.a.get("http://localhost:3000/groups")},te=function(e){return $.a.post("http://localhost:3000/groups/",e)},ne=function(e){return $.a.delete("http://localhost:3000/groups/".concat(e.id),e)},re=function(e,t){return $.a.post("http://localhost:3000/groups/".concat(t,"/todos"),e)},ce=Q.a.mark(ae),oe=Q.a.mark(se);function ae(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.d)(r.LOAD_GROUPS,se);case 2:case"end":return e.stop()}}),ce)}function se(){var e,t;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Y.b)(ee);case 3:return e=n.sent,t=e.data,console.log(t),n.next=8,Object(Y.c)((c=t,{type:r.SET_GROUPS,payload:c}));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}var c}),oe,null,[[0,10]])}var ue=ae,ie=Q.a.mark(de),le=Q.a.mark(pe);function de(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.d)(r.ADD_GROUP,pe);case 2:case"end":return e.stop()}}),ie)}function pe(e){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Y.b)(te,e.payload);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),le,null,[[0,5]])}var Oe=de,je=Q.a.mark(fe),be=Q.a.mark(xe);function fe(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.d)(r.REMOVE_GROUP,xe);case 2:case"end":return e.stop()}}),je)}function xe(e){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Y.b)(ne,{id:e.payload});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),be,null,[[0,5]])}var he=fe,me=Q.a.mark(ve),ge=Q.a.mark(De);function ve(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.d)(r.ADD_TODO,De);case 2:case"end":return e.stop()}}),me)}function De(e){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.payload),t.prev=1,t.next=4,Object(Y.b)(re,e.payload,e.id);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:case"end":return t.stop()}}),ge,null,[[1,6]])}var _e=ve,Ee=Q.a.mark(ke),we=Q.a.mark(ye);function ke(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.d)(r.REMOVE_TODO,ye);case 2:case"end":return e.stop()}}),Ee)}function ye(e){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Y.b)(ne,{todoId:e.todoId,groupId:e.groupId});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),we,null,[[0,5]])}var Re=ke,Ce=Q.a.mark(Ne);function Ne(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.a)([ue(),Oe(),he(),_e(),Re()]);case 2:case"end":return e.stop()}}),Ce)}var Se=Object(J.a)(),Te=Object(H.d)(q,Object(H.c)(Object(H.a)(Se),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));Se.run(Ne);var Ie=Te;s.a.render(Object(E.jsx)(o.a.StrictMode,{children:Object(E.jsx)(_.a,{basename:"/todo-redux-ts",children:Object(E.jsx)(v.a,{store:Ie,children:Object(E.jsx)(B,{})})})}),document.getElementById("root"))},96:function(e,t,n){}},[[124,1,2]]]);
//# sourceMappingURL=main.149f5dda.chunk.js.map